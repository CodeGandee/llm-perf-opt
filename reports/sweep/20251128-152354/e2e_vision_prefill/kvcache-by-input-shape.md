
KV-cache memory by input shape
==============================


This table summarizes, for each vision output token length and crop grid, the analytic KV-cache memory (GB) required for the configured decode horizon, broken down by analytic normal- and flash-attention paths.

|Num crops|Crop grid (HÃ—W)|Image tokens (global + crops)|Decode steps (K)|Total KV-cache (GB, analytic normal attention, full)|Total KV-cache (GB, analytic flash attention, full)|
| :---: | :---: | :---: | :---: | :---: | :---: |
|2|1x2|483|100|0.0621|0.0621|
|3|1x3|583|100|0.0735|0.0735|
|4|2x2|693|100|0.0861|0.0861|
|5|1x5|783|100|0.0964|0.0964|
|6|2x3|893|100|0.1090|0.1090|
|7|1x7|983|100|0.1193|0.1193|
|8|2x4|1093|100|0.1319|0.1319|
|9|3x3|1203|100|0.1445|0.1445|
|10|2x5|1293|100|0.1548|0.1548|
|20|4x5|2313|100|0.2715|0.2715|
|30|5x6|3323|100|0.3871|0.3871|
|40|5x8|4323|100|0.5015|0.5015|
|50|5x10|5323|100|0.6160|0.6160|
|60|6x10|6333|100|0.7316|0.7316|
|70|7x10|7343|100|0.8471|0.8471|
|80|8x10|8353|100|0.9627|0.9627|
|90|9x10|9363|100|1.0783|1.0783|
|100|10x10|10373|100|1.1939|1.1939|
|110|10x11|11373|100|1.3083|1.3083|
|120|10x12|12373|100|1.4228|1.4228|
|130|10x13|13373|100|1.5372|1.5372|
|140|10x14|14373|100|1.6517|1.6517|
|150|10x15|15373|100|1.7661|1.7661|
|160|10x16|16373|100|1.8806|1.8806|
|170|10x17|17373|100|1.9950|1.9950|
|181|1x181|18383|100|2.1106|2.1106|
|190|10x19|19373|100|2.2239|2.2239|
|200|10x20|20373|100|2.3383|2.3383|
|211|1x211|21383|100|2.4539|2.4539|
|220|11x20|22383|100|2.5683|2.5683|
|230|10x23|23373|100|2.6816|2.6816|
|241|1x241|24383|100|2.7972|2.7972|
|250|10x25|25373|100|2.9105|2.9105|
|260|13x20|26403|100|3.0284|3.0284|
|271|1x271|27383|100|3.1405|3.1405|
|281|1x281|28383|100|3.2550|3.2550|
|290|10x29|29373|100|3.3683|3.3683|
|300|15x20|30423|100|3.4884|3.4884|
|310|10x31|31373|100|3.5972|3.5972|
|321|3x107|32403|100|3.7150|3.7150|
|331|1x331|33383|100|3.8272|3.8272|
|340|17x20|34443|100|3.9485|3.9485|
|350|14x25|35413|100|4.0595|4.0595|
|360|18x20|36453|100|4.1785|4.1785|
|370|10x37|37373|100|4.2838|4.2838|
|381|3x127|38403|100|4.4017|4.4017|
|390|15x26|39423|100|4.5184|4.5184|
