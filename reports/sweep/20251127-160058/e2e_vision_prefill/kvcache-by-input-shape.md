
KV-cache memory by input shape
==============================


This table summarizes, for each vision output token length and crop grid, the analytic KV-cache memory (GB) required for the configured decode horizon, broken down by analytic normal- and flash-attention paths.

|Num crops|Crop grid (HÃ—W)|Image tokens (global + crops)|Decode steps (K)|Total KV-cache (GB, analytic normal attention, full)|Total KV-cache (GB, analytic flash attention, full)|
| :---: | :---: | :---: | :---: | :---: | :---: |
|2|1x2|483|100|0.0621|0.0621|
|3|1x3|583|100|0.0735|0.0735|
|4|1x4|683|100|0.0850|0.0850|
|4|2x2|693|100|0.0861|0.0861|
|5|1x5|783|100|0.0964|0.0964|
|6|1x6|883|100|0.1079|0.1079|
|6|2x3|893|100|0.1090|0.1090|
|7|1x7|983|100|0.1193|0.1193|
|8|1x8|1083|100|0.1307|0.1307|
|8|2x4|1093|100|0.1319|0.1319|
|9|1x9|1183|100|0.1422|0.1422|
|9|3x3|1203|100|0.1445|0.1445|
|10|1x10|1283|100|0.1536|0.1536|
|10|2x5|1293|100|0.1548|0.1548|
|11|1x11|1383|100|0.1651|0.1651|
|12|1x12|1483|100|0.1765|0.1765|
|12|2x6|1493|100|0.1777|0.1777|
|12|3x4|1503|100|0.1788|0.1788|
|13|1x13|1583|100|0.1880|0.1880|
|14|1x14|1683|100|0.1994|0.1994|
|14|2x7|1693|100|0.2006|0.2006|
|15|1x15|1783|100|0.2109|0.2109|
|15|3x5|1803|100|0.2131|0.2131|
|16|1x16|1883|100|0.2223|0.2223|
|16|2x8|1893|100|0.2234|0.2234|
|16|4x4|1913|100|0.2257|0.2257|
|17|1x17|1983|100|0.2337|0.2337|
|18|1x18|2083|100|0.2452|0.2452|
|18|2x9|2093|100|0.2463|0.2463|
|18|3x6|2103|100|0.2475|0.2475|
|19|1x19|2183|100|0.2566|0.2566|
|20|1x20|2283|100|0.2681|0.2681|
|20|2x10|2293|100|0.2692|0.2692|
|20|4x5|2313|100|0.2715|0.2715|
|21|1x21|2383|100|0.2795|0.2795|
|21|3x7|2403|100|0.2818|0.2818|
|22|1x22|2483|100|0.2910|0.2910|
|22|2x11|2493|100|0.2921|0.2921|
|23|1x23|2583|100|0.3024|0.3024|
|24|1x24|2683|100|0.3139|0.3139|
|24|2x12|2693|100|0.3150|0.3150|
|24|3x8|2703|100|0.3161|0.3161|
|24|4x6|2713|100|0.3173|0.3173|
|25|1x25|2783|100|0.3253|0.3253|
|25|5x5|2823|100|0.3299|0.3299|
|26|1x26|2883|100|0.3367|0.3367|
|26|2x13|2893|100|0.3379|0.3379|
|27|1x27|2983|100|0.3482|0.3482|
|27|3x9|3003|100|0.3505|0.3505|
|28|1x28|3083|100|0.3596|0.3596|
|28|2x14|3093|100|0.3608|0.3608|
|28|4x7|3113|100|0.3631|0.3631|
|29|1x29|3183|100|0.3711|0.3711|
